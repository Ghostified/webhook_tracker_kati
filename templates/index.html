<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width initial-scale=1.0"/>
    <title>Webhook Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  </head>
  <body>


    <div class="container">
      <header class="header">
        <h1>
          <span>Ticket Webhook Dashboard</span>
        </h1>

        <!-- statistics cards -->
         <div class="stats-container">
          <div class="stat-card total">
            <h3>Total Tickets</h3>
            <p id="total-count">0</p>
          </div>
          <div class="stat-card new">
            <h3>New Tickets</h3>
            <p id="new-count">0</p>
          </div>
          <div class="stat-card updated">
            <h3>Updated Tickets</h3>
            <p id="updated-count">0</p>
          </div>
         </div>

         <!-- last updated info -->
          <p id="last-updated">Loading...</p>
      </header>

      <!-- webhook URL Display -->
       <div class="webhook-url-box">
        <strong>Your Webhook URL:</strong><br>
        <code id="webhook-url">Loading...</code>
       </div>


       <!-- Filters -->
        <div class="filters">
          <!-- step filter -->
           <div class="filter-group">
            <label for="filter-step">Step</label>
            <select id="filter-step" class="custom-select">
              <option value="">All Steps</option>
              <option value="new">New</option>
              <option value="open">Open</option>
              <option value="in-progress">In Progress</option>
              <option value="closed">Closed</option>
            </select>
           </div>

           <!-- ticket id filter -->
            <div class="filter-group">
              <label for="filter-ticket-id">Ticket ID</label>
              <input type="text" id="filter-ticket-id" placeholder="e.g., TICKET-001">
            </div>

            <!-- From Date Time -->
             <div class="filter-group datetime">
              <label for="filter-date-from-date">From</label>
              <div class="datetime-inputs-wrapper">
                <input type="date" id="filter-date-from-date">
                <input type="time" id="filter-date-from-time">
              </div>
             </div>

             <!-- to Date Time -->
              <div class="filter-group datetime">
                <label for="filter-date-to-date">To</label>
                <div class="datetime-inputs-wrapper">
                  <input type="date" id="filter-date-to-date">
                  <input type="time" id="filter-date-to-time">
                </div>
              </div>

              <!-- action buttons -->
               <div class="filter-actions">
                <button id="apply-filters" class="btn-primary">Apply</button>
                <button id="clear-filters" class="btn-secondary">Reset</button>
               </div>
          </div>

         <!-- Render Tickets -->
          <main class="content">
            <div id="tickets-container">
              <p>Loading Tickets...</p>
            </div>
          </main>


          <footer>
            <p>
              Data Powered By Flask and Python
              Endpoint: <code>/webhook/{user_id}</code>
            </p>
          </footer>
    </div>

    <!-- javascript -->
     <script src="{{url_for('static', filename='script.js')}}"></script>
     </body>
</html>
